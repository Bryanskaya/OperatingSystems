# open(FILENAME, O_RDONLY)

Вызов open() **создает** новый файловый дескриптор типа int для открытого файла, запись в общесистемной таблице открытых файлов. 
Новый дескриптор открытого файла изначально не разделяется с любым другим процессом, но разделение может возникнуть через fork().

# fdopen(fd, "r")

Передаётся файловый дескриптор, в результате выполнения - указатель на структуру FILE, в ней содержатся флаги, текущий ук-ль для чтения/записи,конец/начало области чтения/записи, поле _ fileno - номер дескриптора открытого файла и т.д.  

# int setvbuf(FILE *stream, char *buf, int mode , size_t size)

Изменяет буфер, который будет использоваться для операций ввода/вывода. Файл должен быть уже открыт. 

Существует **три типа буферизации**: 
1. нулевая буферизация (ее отсутствие) = информация незамедлительно оказывается на терминале (или в файле назначения)
2. буферизация блока = сохраняется большое количество символов (их блок)  
3. буферизация строки = все символы сохраняются в буфере до перевода строки  

Функция **fflush** принуждает закончить буферизацию блока раньше (при fclose тоже, но только при закрытии).  
Обычно все файлы буферизуются **блоком**. 

```
Стандартный поток ошибок stderr по умолчанию никогда не буферизуется. 
```
**buf** - это буфер, который будет использоваться вместо текущего. Если равен NULL - не определен,  система динамически распределяет объем памяти, требуемый функцией setvbuf и использует его в качестве буфера для потока.  
**mode**:
1. _ IONBF (отключить буферизацию); 
2. _ IOLBF (строчная буферизация); 
3. _ IOFBF (блочная буферизация). 

**size** - размер в байтах  


