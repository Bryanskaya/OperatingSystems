# 1 программа (сокеты в файловом пространстве имён)
> используют в качестве адресов имена файлов специального типа
> Важной особенностью сокетов в файловом пространстве имён является то, что соединение с их помощью локального и удаленного приложений невозможно, даже если файловая система, в которой создан сокет, доступна удаленной операционной системе.
## 

* Сокеты в программах представлены дескрипторами




## struct sockaddr
- используется для хранения адресов
```c
struct sockaddr 
{ 
       unsigned short sa_family; // Семейство адресов, AF_xxx 
       char sa_data[14]; // 14 байтов для хранения адреса 
};
```
## int socket (int domain, int type, int protocol);
1. В нашем случае 1 параметр, домен = **AF_UNIX**
> Домен, обозначенный константой AF_UNIX, соответствует сокетам в файловом пространстве имен (cемейство сокетов AF_UNIX используется для взаимодействия между процессами на **одной** машине). 
2. 2 параметр - **тип сокета**. 
* SOCK_DGRAM (**датаграмный сокет**) - допустимый тип сокеты в UNIX, использует "User Datagram Protocol", или "UDP" (не гарантируется, что пакеты будут доставлены в порядке поступления и вообще будут ли доставлены)
* SOCK_STREAM - гарантируется доставка байт в порядке поступления; пока непрерывный поток байтов не прекратится, никакие другие данные приниматься каналом не будут (аналогом такой связи является pipe-механизм)
* SOCK_RAW - простой или символьный сокет.
3. 3 параметр - **протокол**, используемый для передачи данных. 0 = протокол не указан, используется значение по умолчанию для данного вида соединений. 

Возвращает целое положительное число - **номер дескриптора сокета** (то есть создается дескриптор сокета)

## ssize_t sendto(int sockfd, const void * buf, size_t len, int flags, const struct sockaddr * dest_addr, socklen_t addrlen);
> отправляют данные в сокет
> err = sendto(sock, buf, strlen(buf), 0, &srvr_name, sizeof(srvr_name));  

1 параметр - дескриптор сокета  
2 параметр - адрес буфера для передачи данных  
3 параметр - длина буфера  
4 параметр - дополнительных флагов  
> ПРОСТО ДЛЯ ОЗНАКОМЛЕНИЯ  
>> может принимать значения:
>> MSG_CONFIRM - Сообщить уровню связи, что процесс пересылки произошел: получен успешный ответ с другой стороны. Если уровень связи не получит его, то он будет регулярно перепроверять наличие ответной стороны.
>> MSG_DONTROUTE - Не использовать маршрутизацию для отправки пакета, а посылать его только на узлы локальной сети. Обычно это используется в диагностических программах и программах маршрутизации.
>> MSG_DONTWAIT - Включить неблокирующий режим.
>> MSG_EOR - Завершить запись (record)
>> MSG_MORE - Дополнительные данные для отправки.
>> MSG_NOSIGNAL - Не генерировать сигнал SIGPIPE, если сторона потокоориентированного сокета закрыла соединение.
>> MSG_OOB - Послать внепоточные данные, если сокет это поддерживает.

5 параметр - Адрес сервера  
6 параметр - Длина адреса сервера  

При успешном выполнении эти вызовы возвращают количество отправленных байт

```
Перед вызовом функции sendto() надо заполнить структуру sockaddr (переменную srvr_name) данными об адресе сервера.  
После окончания передачи данных сокет закрывается с помощью close().
```

## int bind(int sockfd, struct sockaddr * my_addr, socklen_t addrlen);
> связывает сокет с заданным адресом (**связывать сокет с адресом необходимо в программе-сервере, но не в клиенте**)  

1 параметр - 
2 параметр - 
3 параметр - 
